<div *ngIf="accessLevel === 'partner'" class="collapse navbar-collapse" id="navbarNavDropdown">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" routerLink="/partner-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Partner Interview</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/operations-candidate-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Project Assignment</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/open-positions-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Open Positions</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/dashboard" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Dashboard</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/report" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Report</b></a>
    </li>

  </ul>
</div>
<div *ngIf="accessLevel === 'management'" class="collapse navbar-collapse" id="navbarNavDropdown">
  <ul class="navbar-nav">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" routerLink="/openpositions-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <b>Manage Open Seats</b>
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" routerLink="/openpositions-create" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active">Add Open Seat</a>
        <a class="dropdown-item" routerLink="/openpositions-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active">View Open Seats</a>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/operations-candidate-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Project Assignment</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/open-positions-list" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Open Positions</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/viewinterview-status" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Exception Approval</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/dashboard" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Dashboard</b></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/report" [state]="{username:this.userName, accessLevel:this.accessLevel,account:this.account}" routerLinkActive="active"><b>Report</b></a>
    </li>
  </ul>
</div>
<div *ngIf="accessLevel === 'admin'">
  <mat-toolbar  color="primary">
    <mat-toolbar-row>
      <a  mat-button  [matMenuTriggerFor]="users" routerLink="/candidates-list" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Manage Users</a>
      <mat-menu #users="matMenu">
        <a mat-menu-item routerLink="/create-candidate" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Candidate</a>
        <a mat-menu-item routerLink="/adminuser-create" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add User</a>
        <a mat-menu-item routerLink="/candidates-list" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">View Candidate</a>
      </mat-menu>
      <a  mat-button  [matMenuTriggerFor]="questions" routerLink="/manage-questionbank" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Manage Questions</a>
      <mat-menu #questions="matMenu">
        <a mat-menu-item  routerLink="/manage-questionbank" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Question</a>
        <a mat-menu-item  routerLink="/manage-questionbank-bulk" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Bulk Question</a>
      </mat-menu>
      <a  mat-button  [matMenuTriggerFor]="metadata" routerLink="/jrss-create" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Manage Metadata</a>
      <mat-menu #metadata="matMenu">
        <a mat-menu-item  routerLink="/jrss-create" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Job Role</a>
        <a mat-menu-item  routerLink="/stream-create" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Technology Stream</a>
        <a mat-menu-item  routerLink="/testconfig-add" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Test Configuration</a>
      </mat-menu>
      <a  mat-button  routerLink="/workflow-config" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Manage WorkFlows</a>
      <a  mat-button  [matMenuTriggerFor]="openpositions" routerLink="/openpositions-list" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Manage OpenSeats</a>
      <mat-menu #openpositions="matMenu">
        <a mat-menu-item routerLink="/openpositions-create" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Add Open Seat</a>
        <a mat-menu-item routerLink="/openpositions-list" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">View Open Seats</a>
      </mat-menu>
      <a  mat-button  routerLink="/view-testresults" [state]="{username:this.userName, accessLevel:'admin',account:this.account}" routerLinkActive="active">Test Results</a>
      <a  mat-button  routerLink="/login-component" routerLinkActive="active">Logout</a>
    </mat-toolbar-row>
  </mat-toolbar>
</div>
<br/>
<div class="float-left text-left">
  <h4 class="my-0 mr-md-auto font-weight-normal">Update Open Position/Seat</h4></div>
<br/><br>
<mat-card class="login-card">
  <mat-card-header>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="openPositionForm">
      <table class="open-full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="open-full-width">
              <input matInput placeholder="Open Position Name" formControlName="positionName" name="positionName" required [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.positionName.errors }">
              <div *ngIf="!formReset && submitted && myForm.positionName.errors" class="invalid-feedback">
                <div *ngIf="myForm.positionName.errors.required">Position Name is required</div>
              </div>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Account"  (selectionChange)="updateAccountProfile($event)"
                          formControlName="account" required id="account" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.account.errors }" >
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let account of AccountArray" value="{{account}}">{{account}}
                </mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.account.errors" class="invalid-feedback" >
                <div *ngIf="myForm.account.errors.required">Account is required</div>
              </div>
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Job Role" (selectionChange)="updateJobRoleProfile($event)"
                          formControlName="JRSS" required name="JRSS" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.JRSS.errors }">
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let jrss of JRSS" value="{{jrss.jrss}}">{{jrss.jrss}}
                </mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.JRSS.errors" class="invalid-feedback">
                <div *ngIf="myForm.JRSS.errors.required">Job Role is required</div>
              </div>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Line Of Business" (selectionChange)="updateLineOfBusinessProfile($event)"
                          name="lineOfBusiness" required formControlName="lineOfBusiness" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.lineOfBusiness.errors }">
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let data of LineOfBusiness" value="{{data.lob}}" >{{data.lob}}</mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.lineOfBusiness.errors" class="invalid-feedback">
                <div *ngIf="myForm.lineOfBusiness.errors.required">Line Of Business is required</div>
              </div>
            </mat-form-field>
          </td>
        </tr>

        <tr>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Position Location"  (selectionChange)="updatePositionLocationProfile($event)"
                          name="positionLocation" required formControlName="positionLocation" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.positionLocation.errors }">
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let data of PositionLocation" value="{{data.positionLocation}}" >{{data.positionLocation}}</mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.positionLocation.errors" class="invalid-feedback">
                <div *ngIf="myForm.positionLocation.errors?.required">Position Location is required</div>
              </div>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Rate Card Job Role" (selectionChange)="updateRateCardJobRoleProfile($event)"
                          formControlName="rateCardJobRole" required name="rateCardJobRole" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.rateCardJobRole.errors }">
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let data of RateCardJobRole" value="{{data.rateCardJobRole}}">{{data.rateCardJobRole}}
                </mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.rateCardJobRole.errors" class="invalid-feedback">
                <div *ngIf="myForm.rateCardJobRole.errors.required">Rate Card Job Role is required</div>
              </div>
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td>
            <mat-form-field class="open-full-width">
              <mat-select placeholder="Competency Level" (selectionChange)="updateCompetencyLevelProfile($event)"
                          name="inputCompetencyLevel" required formControlName="competencyLevel" [ngClass]="{ 'is-invalid': !formReset && submitted && myForm.competencyLevel.errors }">
                <mat-option value="">Choose...</mat-option>
                <mat-option *ngFor="let data of CompetencyLevel" value="{{data.competencyLevel}}" >{{data.competencyLevel}}</mat-option>
              </mat-select>
              <div *ngIf="!formReset && submitted && myForm.competencyLevel.errors" class="invalid-feedback">
                <div *ngIf="myForm.competencyLevel.errors.required">Competency Level is required</div>
              </div>
            </mat-form-field>
          </td>
        </tr>
      </table>
    </form>
  </mat-card-content>
  <br/>
  <mat-card-actions>
    <div class="row justify-content-center">
      <button mat-raised-button color="primary" (click)="onSubmit()">Save</button>
      <button mat-raised-button color="primary" (click)="resetForm()">Reset</button>
      <button mat-raised-button color="primary" (click)="cancelForm()">Cancel</button>
    </div>
  </mat-card-actions>
</mat-card>



